var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},t={},o=n.parcelRequiree764;null==o&&((o=function(n){if(n in e)return e[n].exports;if(n in t){var o=t[n];delete t[n];var i={id:n,exports:{}};return e[n]=i,o.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+n+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(n,e){t[n]=e},n.parcelRequiree764=o);var i=o("idVGl"),a=o("c04jy"),r=o("1CMLe"),s=o("jOfNW");const c=i.V.vec(500,0);function l(n){const e=(0,r.readLines)(n.trimEnd()).map((0,r.typed)("vec[]")),t=(0,a.it)(e).flatMap((n=>(0,a.it)(n).windowed(2).flatMap((([n,e])=>i.V.segment(n,e))))).map((n=>(0,r.tuple)(n,"#")));return new(0,s.Map2d)(t).set(c,"+")}function*f(n,e=n.bounds.maxY){const t=i.V.vec(0,1),o=i.V.vec(-1,1),a=i.V.vec(1,1);function r(r){let s=r;for(;;){if(i.V.y(s)>=e)return null;const r=i.V.add(s,t);if(!1===n.hasPos(r)){s=r;continue}const c=i.V.add(s,o);if(!1===n.hasPos(c)){s=c;continue}const l=i.V.add(s,a);if(!1!==n.hasPos(l))return s;s=l}}for(;;){const e=r(c);if(null===e||i.V.eq(e,c))return;n.set(e,"o"),yield e}}i=o("idVGl");var d=o("7zFg5");const u=document.getElementById("canvas");if(!(u instanceof HTMLCanvasElement))throw new Error("no canvas");const m=u.getContext("2d");if(!m)throw new Error("no ctx");(0,d.scaleCanvasToPixelRatio)(m,100,100);let v=0;function h(n,e,t=!1){cancelAnimationFrame(v);const o=l(n);if(t){const n=o.height+1,e=Math.min(o.bounds.minX,500-n),t=Math.max(o.bounds.maxX,500+n),a=i.V.segment(i.V.vec(e,n),i.V.vec(t,n));for(const n of a)o.set(n,"~")}const{width:a,height:r,bounds:s}=o,c=Math.min(10,Math.max(2,200/a));(0,d.scaleCanvasToPixelRatio)(e,a*c,r*c),e.canvas.scrollIntoView({behavior:"smooth"});const u={"+":"orange",o:"orange","#":"gray",".":"darkblue","~":"brown"},m=f(o);o.to2dArray({valToString:n=>n??"."}).forEach(((n,t)=>{n.forEach(((n,o)=>{e.fillStyle=u[n],e.fillRect(o*c,t*c,c,c)}))}));const h=()=>{const n=m.next().value;n&&(!function([n,t],o){e.fillStyle=o,e.fillRect((n-s.minX)*c,(t-s.minY)*c,c,c)}(n,u.o),v=requestAnimationFrame(h))};h()}const p=document.getElementById("input-form");if(!(p instanceof HTMLFormElement))throw new Error("no form");p.addEventListener("submit",(function(n){n.preventDefault();const e=new FormData(this);h((e.get("input")?.toString()??"").trim(),m,"on"===e.get("part2"))}));
//# sourceMappingURL=index.606ddd3f.js.map
